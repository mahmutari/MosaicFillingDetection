# Proje: GerÃ§ek ZamanlÄ± Mozaik Tespiti ve Dijital Ã‡Ä±ktÄ±

Bu proje, bir web kamerasÄ± kullanarak dÃ¶rt adet ArUco marker'Ä±nÄ± (hepsi aynÄ± ID'ye sahip) tespit etmek iÃ§in C++ ve OpenCV kullanÄ±r. Bu marker'lar, bir mozaik ÅŸablonunun kÃ¶ÅŸelerini tanÄ±mlar.

Program bu kÃ¶ÅŸeleri bulduÄŸunda, iki ayrÄ± pencere oluÅŸturur:
1.  **KuÅŸbakÄ±ÅŸÄ± GÃ¶rÃ¼nÃ¼m:** KameranÄ±n gÃ¶rdÃ¼ÄŸÃ¼ mozaik alanÄ±nÄ±n canlÄ±, dÃ¼zleÅŸtirilmiÅŸ (kuÅŸbakÄ±ÅŸÄ±) gÃ¶rÃ¼nÃ¼mÃ¼.
2.  **Dijital Ã‡Ä±ktÄ±:** CanlÄ± gÃ¶rÃ¼ntÃ¼deki renkleri algÄ±layÄ±p, bu renkleri orijinal `mosaic.jpg` ÅŸablonu Ã¼zerine iÅŸleyerek stilize bir "dijital kopya" oluÅŸturan gÃ¶rÃ¼nÃ¼m.

## ğŸ“¦ KullanÄ±lan Teknolojiler
* **Dil:** C++
* **KÃ¼tÃ¼phane:** OpenCV 4 (ve `opencv_contrib` iÃ§indeki `aruco` modÃ¼lÃ¼)
* **Paket YÃ¶neticisi:** vcpkg
* **YapÄ± Sistemi:** CMake
* **IDE:** Visual Studio 2022

## ğŸ“ Proje YapÄ±sÄ±
Proje, standart bir CMake yapÄ±sÄ±nÄ± takip eder:
* `include/`: TÃ¼m `.h` (header) dosyalarÄ± burada yer alÄ±r.
* `src/`: TÃ¼m `.cpp` (kaynak) dosyalarÄ± burada yer alÄ±r.
* `build/`: Derleme dosyalarÄ±nÄ±n ve Visual Studio projesinin oluÅŸturulduÄŸu klasÃ¶rdÃ¼r. (**Git'e dahil edilmez.**)
* `CMakeLists.txt`: Projenin nasÄ±l derleneceÄŸini tanÄ±mlayan ana yapÄ± dosyasÄ±dÄ±r.
* `mosaic.jpg`: ProgramÄ±n dijital Ã§Ä±ktÄ± iÃ§in kullandÄ±ÄŸÄ± ÅŸablon resimdir.

---

## ğŸ› ï¸ Kurulum AdÄ±mlarÄ± (SÄ±fÄ±rdan BaÅŸlayarak)

Bu adÄ±mlar, projeyi sÄ±fÄ±rdan bir Windows bilgisayara kurmak iÃ§in gereken tÃ¼m iÅŸlemleri iÃ§erir.

### BÃ¶lÃ¼m 1: OrtamÄ±n HazÄ±rlanmasÄ± (Her Bilgisayarda Bir Kez YapÄ±lÄ±r)

Ã–nce `vcpkg` ve `OpenCV`'yi kurmamÄ±z gerekiyor.

1.  **Ã–n KoÅŸullar:**
    * **Visual Studio 2022:** "C++ ile MasaÃ¼stÃ¼ GeliÅŸtirme" (Desktop development with C++) iÅŸ yÃ¼kÃ¼.
    * **VS BileÅŸeni:** Visual Studio Installer'dan "Tekil BileÅŸenler" (Individual components) sekmesinden **"Windows iÃ§in C++ CMake araÃ§larÄ±"** (C++ CMake tools for Windows) paketinin de kurulu olduÄŸundan emin olun.
    * **Git:** [git-scm.com](https://git-scm.com/downloads) adresinden indirin (vcpkg ve projeyi indirmek iÃ§in gereklidir).

2.  **vcpkg'yi Ä°ndir:**
    * **PowerShell'i YÃ¶netici olarak** aÃ§Ä±n.
    * `vcpkg`'yi kurmak iÃ§in bir konum seÃ§in (Ã–rn: `C:\` kÃ¶k dizini).
        ```powershell
        cd C:\
        git clone [https://github.com/Microsoft/vcpkg.git](https://github.com/Microsoft/vcpkg.git)
        cd vcpkg
        ```
    * `vcpkg`'yi Ã§alÄ±ÅŸtÄ±rÄ±labilir hale getirin:
        ```powershell
        .\bootstrap-vcpkg.bat
        ```

3.  **OpenCV + ArUco'yu Kur:**
    * Hala YÃ¶netici PowerShell'de (`C:\vcpkg` iÃ§inde) olduÄŸunuzdan emin olun.
    * `aruco` modÃ¼lÃ¼nÃ¼ iÃ§eren `contrib` paketini kurun. **Bu iÅŸlem internet hÄ±zÄ±nÄ±za ve bilgisayar gÃ¼cÃ¼nÃ¼ze baÄŸlÄ± olarak 30 dakika ile 1 saat arasÄ± sÃ¼rebilir.**
        ```powershell
        .\vcpkg install opencv4[contrib]:x64-windows
        ```
    * Ä°ÅŸlem bittiÄŸinde `vcpkg` penceresini kapatabilirsiniz.

---

### BÃ¶lÃ¼m 2: Projenin KlonlanmasÄ± ve Derlenmesi

Ortam hazÄ±r olduÄŸuna gÃ¶re, projeyi GitHub'dan indirip derleyebiliriz.

1.  **Projeyi Klonla (Ä°ndir):**
    * Komut SatÄ±rÄ±nÄ± (veya PowerShell) aÃ§Ä±n.
    * Projeyi kurmak istediÄŸiniz klasÃ¶re gidin (Ã–rn: `Desktop`).
        ```bash
        git clone [https://github.com/KULLANICI_ADINIZ/REPO_ADINIZ.git](https://github.com/KULLANICI_ADINIZ/REPO_ADINIZ.git)
        cd REPO_ADINIZ
        ```
    * (Not: `KULLANICI_ADINIZ/REPO_ADINIZ` kÄ±smÄ±nÄ± kendi GitHub adresinizle deÄŸiÅŸtirin.)

2.  **CMake ile Visual Studio Projesini OluÅŸtur:**
    * Projenin ana klasÃ¶rÃ¼ndeyken (iÃ§inde `CMakeLists.txt` olan yer) bir `build` klasÃ¶rÃ¼ oluÅŸturun ve iÃ§ine girin:
        ```bash
        mkdir build
        cd build
        ```
    * Åimdi CMake'e, `vcpkg`'yi kullanarak Visual Studio 2022 projesini oluÅŸturmasÄ±nÄ± sÃ¶yleyin:
        ```bash
        cmake .. -G "Visual Studio 17 2022" -A x64 -DCMAKE_TOOLCHAIN_FILE=C:/vcpkg/scripts/buildsystems/vcpkg.cmake
        ```
    * (Not: `C:/vcpkg` yolu, vcpkg'yi kurduÄŸunuz yerle aynÄ± olmalÄ±dÄ±r).
    * Komutun baÅŸarÄ±yla tamamlandÄ±ÄŸÄ±nÄ± (`-- Configuring done`, `-- Generating done`) gÃ¶rmelisiniz.

---

## ğŸƒâ€â™‚ï¸ Projeyi Ã‡alÄ±ÅŸtÄ±rma

YukarÄ±daki komut baÅŸarÄ±lÄ± olduysa, `build` klasÃ¶rÃ¼nÃ¼zÃ¼n iÃ§inde `MosaicCMake.sln` adÄ±nda bir Visual Studio Ã§Ã¶zÃ¼mÃ¼ oluÅŸacaktÄ±r.

1.  `build` klasÃ¶rÃ¼ndeki `MosaicCMake.sln` dosyasÄ±nÄ± Visual Studio ile aÃ§Ä±n.

2.  **BaÅŸlangÄ±Ã§ Projesini Ayarla (Ã‡OK Ã–NEMLÄ°):**
    * Proje ilk aÃ§Ä±ldÄ±ÄŸÄ±nda, "BaÅŸlangÄ±Ã§ Projesi" `ALL_BUILD` olarak ayarlanmÄ±ÅŸtÄ±r.
    * SaÄŸdaki **Solution Explorer** penceresinde, **`MosaicCMake`** projesini (adÄ± kalÄ±n deÄŸildir) bulun.
    * **`MosaicCMake`**'e saÄŸ tÄ±klayÄ±n ve **"Set as Startup Project" (BaÅŸlangÄ±Ã§ Projesi Olarak Ayarla)** seÃ§eneÄŸine tÄ±klayÄ±n.
    * ArtÄ±k `MosaicCMake`'in adÄ± **kalÄ±n (bold)** fontla yazÄ±lacaktÄ±r.

3.  **Ã‡alÄ±ÅŸma Dizinini Ayarla (Ã‡OK Ã–NEMLÄ°):**
    * Bu, programÄ±n `mosaic.jpg` dosyasÄ±nÄ± bulabilmesi iÃ§in gereklidir.
    * **`MosaicCMake`** projesine (yeni kalÄ±n olan) tekrar saÄŸ tÄ±klayÄ±n ve **"Properties" (Ã–zellikler)** deyin.
    * AÃ§Ä±lan pencerede sol menÃ¼den **"Configuration Properties" -> "Debugging" (Hata AyÄ±klama)** sekmesini seÃ§in.
    * SaÄŸdaki **"Working Directory" (Ã‡alÄ±ÅŸma Dizini)** satÄ±rÄ±nÄ± bulun.
    * Kutusuna `$(ProjectDir)/../..` yazÄ±n ve **"Apply" (Uygula)** / **"OK"** deyin.

4.  **Ã‡alÄ±ÅŸtÄ±r:**
    * Visual Studio'da platformun "Debug" ve "x64" olarak ayarlandÄ±ÄŸÄ±ndan emin olun.
    * Ãœstteki yeÅŸil "Oynat" (Local Windows Debugger) tuÅŸuna basarak programÄ± derleyin ve Ã§alÄ±ÅŸtÄ±rÄ±n.

---

## ğŸ’¡ Projeye KatkÄ± (Yeni Dosya Ekleme)

Bu proje CMake ile yÃ¶netilmektedir. Projeye yeni `.cpp` veya `.h` dosyalarÄ± eklemek iÃ§in Visual Studio'nun "Add -> New Item" menÃ¼sÃ¼nÃ¼ **kesinlikle kullanmayÄ±n**. Bu, projenin yapÄ±sÄ±nÄ± bozacaktÄ±r.

DoÄŸru yÃ¶ntem aÅŸaÄŸÄ±daki adÄ±mlarÄ± izlemektir:

1.  **DosyalarÄ± Manuel OluÅŸturun:**
    * Yeni `.h` dosyanÄ±zÄ± `include/` klasÃ¶rÃ¼nÃ¼n iÃ§ine manuel olarak oluÅŸturun.
    * Yeni `.cpp` dosyanÄ±zÄ± `src/` klasÃ¶rÃ¼nÃ¼n iÃ§ine manuel olarak oluÅŸturun.

2.  **`CMakeLists.txt` DosyasÄ±nÄ± GÃ¼ncelleyin:**
    * Projenin ana dizinindeki `CMakeLists.txt` dosyasÄ±nÄ± aÃ§Ä±n.
    * OluÅŸturduÄŸunuz `.h` dosyasÄ±nÄ±n yolunu `set(HEADERS ...)` bloÄŸundaki listeye ekleyin.
    * OluÅŸturduÄŸunuz `.cpp` dosyasÄ±nÄ±n yolunu `set(SOURCES ...)` bloÄŸundaki listeye ekleyin.

    **Ã–rnek:** `Utils.h` ve `Utils.cpp` adÄ±nda yeni dosyalar ekliyorsanÄ±z:

    ```cmake
    set(HEADERS
        include/ColorDetector.h
        # ... diÄŸer .h dosyalarÄ± ...
        include/Utils.h  # <- YENÄ° EKLENEN SATIR
    )

    set(SOURCES
        src/main.cpp
        # ... diÄŸer .cpp dosyalarÄ± ...
        src/Utils.cpp  # <- YENÄ° EKLENEN SATIR
    )
    ```

3.  **Projeyi Yeniden OluÅŸturun (Re-generate):**
    * `CMakeLists.txt` dosyasÄ±nÄ± kaydettiÄŸinizde, Visual Studio genellikle Ã¼st tarafta "CMake projesini yeniden oluÅŸtur" (Generate) diyen sarÄ± bir Ã§ubuk gÃ¶sterir. Ona tÄ±klayÄ±n.
    * EÄŸer bu Ã§ubuk Ã§Ä±kmazsa, projeyi kapatÄ±n, `build` klasÃ¶rÃ¼nÃ¼n iÃ§indeki **`CMakeCache.txt`** dosyasÄ±nÄ± silin ve projeyi yeniden aÃ§Ä±n.

Yeni dosyalarÄ±nÄ±z otomatik olarak Visual Studio'daki "Header Files" ve "Source Files" filtrelerinin altÄ±na eklenecektir.

## âš ï¸ Muhtemel Sorunlar ve Ã‡Ã¶zÃ¼mleri

* **SORUN:** `cmake ..` komutu `OpenCV`'yi bulamÄ±yor.
    * **Ã‡Ã–ZÃœM:** `vcpkg`'nin `opencv4[contrib]:x64-windows` paketini baÅŸarÄ±yla kurduÄŸunuzdan emin olun. `-DCMAKE_TOOLCHAIN_FILE=` kÄ±smÄ±ndaki `vcpkg` yolunuzun doÄŸru olup olmadÄ±ÄŸÄ±nÄ± kontrol edin.

* **SORUN:** Program Ã§alÄ±ÅŸÄ±yor ama `[mosaic.jpg] not found` hatasÄ± veriyor.
    * **Ã‡Ã–ZÃœM:** "Projeyi Ã‡alÄ±ÅŸtÄ±rma" bÃ¶lÃ¼mÃ¼ndeki 3. adÄ±mÄ± (Ã‡alÄ±ÅŸma Dizinini Ayarlama) atlamÄ±ÅŸsÄ±nÄ±z demektir. OrayÄ± kontrol edin.

* **SORUN:** Visual Studio'da `.h` dosyalarÄ± gÃ¶rÃ¼nmÃ¼yor veya `#include` hatalarÄ± alÄ±yorum (proje derlenmesine raÄŸmen).
    * **Ã‡Ã–ZÃœM:** Bu, CMake Ã¶nbellek (cache) sorunudur.
        1.  Visual Studio'yu kapatÄ±n.
        2.  `build` klasÃ¶rÃ¼nÃ¼n iÃ§indeki **HER ÅEYÄ° SÄ°LÄ°N**.
        3.  "BÃ¶lÃ¼m 2: Projenin KlonlanmasÄ± ve Derlenmesi" adÄ±mÄ±ndaki `cmake ..` komutunu yeniden Ã§alÄ±ÅŸtÄ±rÄ±n.
        4.  Yeni `.sln` dosyasÄ±nÄ± aÃ§Ä±n.